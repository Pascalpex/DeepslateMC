From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Pascalpex <pascalpex@gmail.com>
Date: Sat, 12 Feb 2022 13:47:36 +0100
Subject: [PATCH] Automatically add missing Config options


diff --git a/src/main/java/net/pascalpex/deepslatemc/Config.java b/src/main/java/net/pascalpex/deepslatemc/Config.java
index b2d86a2ab7f123f21c7fa9301ea2dbe902c01837..572f1e44c5ba9e496c6d24cefbe01a55a3f6f935 100644
--- a/src/main/java/net/pascalpex/deepslatemc/Config.java
+++ b/src/main/java/net/pascalpex/deepslatemc/Config.java
@@ -22,26 +22,43 @@ public class Config {
             configFile.getParentFile().mkdirs();
             if (!configFile.exists()) {
                 configFile.createNewFile();
+                save();
+            }
+            config.load(configFile);
+            if (!config.contains("prefix")) {
                 config.set("prefix", "&0[&8DeepslateMC&0]");
+            }
+            if (!config.contains("discordLink")) {
                 config.set("discordLink", "https://google.de/");
+            }
+            if (!config.contains("opCommandActive")) {
                 config.set("opCommandActive", true);
+            }
+            if (!config.contains("helpMessage")) {
                 List<String> message = new ArrayList<String>();
                 message.add("&2&l--Hilfeseite--");
                 message.add("&6Die wichtigsten Befehle kannst du bei");
                 message.add("&9&l/warp &9&lInfos &r&6nachlesen. Wende dich bei");
                 message.add("&6weiteren Fragen an ein &9Teammitglied.");
                 config.set("helpMessage", message);
+            }
+            if (!config.contains("spawnOnJoin")) {
                 config.set("spawnOnJoin", false);
+            }
+            if (!config.contains("preventKnowledgebookClick")) {
                 config.set("preventKnowledgebookClick", false);
+            }
+            if (!config.contains("coloredSigns")) {
                 config.set("coloredSigns" + ".enabled", false);
                 config.set("coloredSigns" + ".usePermission", true);
+            }
+            if (!config.contains("autoSmelt")) {
                 config.set("autoSmelt" + ".price", 30);
                 List<String> worldsList = new ArrayList<>();
                 worldsList.add("FantasyWorld");
                 config.set("autoSmelt" + ".enabledWorlds", worldsList);
-                save();
             }
-            config.load(configFile);
+            save();
         } catch (IOException | InvalidConfigurationException e) {
             e.printStackTrace();
         }
